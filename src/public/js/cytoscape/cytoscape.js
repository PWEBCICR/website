"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[896],{9920:(e,n,t)=>{t.d(n,{v:()=>o});var o={name:"avsdf",animate:"end",animationDuration:1e3,animationEasing:"ease-in-out",fit:!0,nodeSeparation:120,padding:30}},9866:(e,n,t)=>{t.d(n,{v:()=>o});var o={name:"breadthfirst",fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0,roots:void 0,maximal:!0,animate:!0,animationDuration:1e3,animationEasing:"ease-in-out",animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}}},4936:(e,n,t)=>{t.d(n,{v:()=>o});var o={name:"cise",animate:"end",animationDuration:1e3,animationEasing:"ease-in-out",fit:!0,padding:30,nodeSeparation:20,idealInterClusterEdgeLengthCoefficient:1.4,allowNodesInsideCircle:!1,maxRatioOfNodesInsideCircle:.1,springCoeff:.45,nodeRepulsion:4500,gravity:.25,gravityRange:3.8,ready:function(){},stop:function(){}}},9367:(e,n,t)=>{t.d(n,{v:()=>o});var o={name:"dagre",nodeSep:25,edgeSep:10,rankSep:25,rankDir:"TB",ranker:"longest-path",minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:50,spacingFactor:1.5,nodeDimensionsIncludeLabels:!0,animate:!0,animateFilter:function(e,n){return!0},animationDuration:1e3,animationEasing:"ease-in-out",boundingBox:void 0,transform:function(e,n){return n},ready:function(){},stop:function(){}}},6293:(e,n,t)=>{t.d(n,{v:()=>o});var o={name:"fcose",quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:"ease-in-out",fit:!0,padding:30,nodeDimensionsIncludeLabels:!0,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:100,piTol:1e-7,nodeRepulsion:function(e){return 4500},idealEdgeLength:function(e){return 50},edgeElasticity:function(e){return.45},nestingFactor:.1,numIter:2500,tile:!0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravity:.25,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}},8482:(e,n,t)=>{var o=t(9058),a=t.n(o),i=t(9142),r=t.n(i),l=t(6053),c=t.n(l),s=t(4867),d=t.n(s),u=t(5658),f=t.n(u),g=t(2548),m=t.n(g),p=t(9755),v=t.n(p),h=t(9367),y=t(4936),b=t(6293),w=t(9866),C=t(9920);a().use(r()),a().use(c()),a().use(d()),a().use(f()),a().use(m());var S=[],k=[],E=T("/api/lists"),x=!1,R=!1,D={};function T(e){var n;return v().ajax({url:e,method:"GET",dataType:"json",headers:{Accept:"application/json",Authorization:"Bearer 8wXpW1R2NJ1kGk5LDUCmsmta0O4vuvjU5Y11HY5Z","Application-id":"SCAN_CYTOSCAPE"},async:!1,success:function(e){n=e},error:function(e){console.log(e)}}),n}function z(e){var n;return E.forEach((function(t){t.name===e&&(n=t.id)})),n}function I(e,n){if(e.elements().show(),n.isNode()){console.log(n);var t=n.union(n.component());e.elements().not(t).hide()}var o=e.elements().filter(":visible");e.fit(o,50)}S=T("/api/list/"+z("ListRelation")),k=T("/api/list/"+z("ListRole")),v().getJSON("/content.json",(function(e){var n=new URLSearchParams(window.location.search),t=[];t.push({selector:"node",style:{"background-color":"#666",label:"data(name)","font-size":25}}),k.forEach((function(e){var n;D[e.short.eng]=e.color,t.push({selector:'node[role = "'+e.short.eng+'"]',style:{"background-color":e.color,label:"data(name)","font-size":25,shape:null!==(n=e.shape)&&void 0!==n?n:"diamond"}})})),t.push({selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}),S.forEach((function(e){t.push({selector:'edge[label = "'+e.name.eng+'"]',style:{"line-color":e.color,"target-arrow-color":e.color,"source-arrow-color":e.color}})})),t.push({selector:'edge[type = "bilateral"]',style:{"source-arrow-shape":"triangle",width:4}}),t.push({selector:".highlighted",style:{"background-color":"#ff0000","line-color":"#ff0000","target-arrow-color":"#ff0000","source-arrow-color":"#ff0000",label:"data(label)"}});var o=a()({container:document.getElementById("cy"),elements:e,style:t});o.layout(h.v).run();var i={menuRadius:function(e){return 100},selector:"node",commands:[{content:"Set as FROM",select:function(e){v()("#from").val(e.id()),I(o,e)}},{content:"set as TO",select:function(e){v()("#to").val(e.id()),I(o,e)}},{content:"View information",select:function(e){window.location.replace("/person/"+e.id())}},{content:"View related persons",select:function(e){I(o,e)}},{content:"Save position",select:function(e){console.log(e.position())},enabled:!1}],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1,outsideMenuCancel:!1};o.cxtmenu(i),o.cxtmenu({selector:"core",commands:[{content:"Dagre layout",select:function(){o.layout(h.v).run()}},{content:"Cise layout",select:function(){o.layout(y.v).run()}},{content:"Fcose layout",select:function(){o.layout(b.v).run()}},{content:"Breadthfirst layout",select:function(){o.layout(w.v).run()}},{content:"AVSDF layout",select:function(){o.layout(C.v).run()}},{content:"Relation details",select:function(){(x=!x)?o.style().selector("edge").style("label","data(label)").update():o.style().selector("edge").style("label","").update()}}]}),o.cxtmenu({selector:"edge",commands:[{content:"Show detail",select:function(e){e.style("label",e.data("detail"))}},{content:"Hide detail",select:function(e){e.removeStyle("label")}},{content:"Edit relation",select:function(e){window.location.replace("/links/"+e.id()+"/edit")}}]});var r=n.has("from")?n.get("from"):"";""!=r&&I(o,o.$id(r)),n.has("calcul")&&n.get("calcul");var l=n.has("to")?n.get("to"):"";if(""!=r&&""!=l){var c=o.elements().dijkstra("#"+r,(function(e){return e.data("weight")}),!1).pathTo(o.$("#"+l)),s=0;!function e(){c[s].addClass("highlighted"),s<c.length&&(s++,setTimeout(e))}()}v()("#from").change((function(){var e;I(o,o.$id(null!==(e=v()(this).val())&&void 0!==e?e:[]))})),v()("#to").change((function(){var e=v()("#from").val();if(""!=e){console.log("to changed : && from not empty "+v()(this).val()+" "+v()("#from").val());var n=o.elements().dijkstra("#"+e,(function(e){return e.data("weight")}),!1).pathTo(o.$("#"+v()(this).val())),t=0;!function e(){n[t].addClass("highlighted"),t<n.length&&(t++,setTimeout(e))}()}else console.log("to changed && from empty: "+v()(this).val()),I(o,o.$id(v()(this).val()))})),v()("#save").click((function(){var e=o.png(),n=document.createElement("a");n.href=e,n.download="graph.png",n.click()})),v()("#betweenness_centrality").click((function(){if(R=!R){var e=o.elements().bc();o.nodes().forEach((function(n){var t,o,a;n.data("bcn",e.betweennessNormalized(n)),n.style("background-color",((t=100*n.data("bcn"))>50?(o=255,a=Math.round(5.1*(100-t))):(a=255,o=Math.round(510-5.1*(100-t))),"#"+("000000"+(65536*o+256*a+0).toString(16)).slice(-6)))})),v()("#betweenness_centrality").text("Hide betweenness centrality")}else o.nodes().forEach((function(e){e.style("background-color",D[e.data("role")])})),v()("#betweenness_centrality").text("Show betweenness centrality")})),v()("#clear").click((function(){o.remove(o.elements()),o.add(e),v()("#from").val(""),v()("#to").val(""),o.nodes().forEach((function(e){e.style("background-color",D[e.data("role")])})),v()("#betweenness_centrality").text("Show betweenness centrality"),o.layout(h.v).run()}))}))},9662:()=>{}},e=>{var n=n=>e(e.s=n);e.O(0,[457,170,898],(()=>(n(9920),n(9866),n(4936),n(9367),n(6293),n(8482),n(9662))));e.O()}]);